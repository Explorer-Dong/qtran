{
    "HTML": [
        "https://www.postgresql.org/docs/16/datatype-textsearch.html"
    ],
    "Title": [
        "8.11. Text Search Types"
    ],
    "Feature": [
        "tsquery"
    ],
    "Description": [
        "\n\n\n8.11.\u00a0Text Search Types #\n\n\n",
        "PostgreSQL provides two data types that are designed to support full text search, which is the activity of searching through a collection of natural-language documents to locate those that best match a query. The tsvector type represents a document in a form optimized for text search; the tsquery type similarly represents a text query. Chapter\u00a012 provides a detailed explanation of this facility, and Section\u00a09.13 summarizes the related functions and operators.",
        "\n\n\n\n8.11.2.\u00a0tsquery #\n\n\n\nA tsquery value stores lexemes that are to be searched for, and can combine them using the Boolean operators & (AND), | (OR), and ! (NOT), as well as the phrase search operator <-> (FOLLOWED BY). There is also a variant <N> of the FOLLOWED BY operator, where N is an integer constant that specifies the distance between the two lexemes being searched for. <-> is equivalent to <1>.\nParentheses can be used to enforce grouping of these operators. In the absence of parentheses, ! (NOT) binds most tightly, <-> (FOLLOWED BY) next most tightly, then & (AND), with | (OR) binding the least tightly.\nHere are some examples:\nSELECT 'fat & rat'::tsquery;\n    tsquery\n---------------\n 'fat' & 'rat'\n\nSELECT 'fat & (rat | cat)'::tsquery;\n          tsquery\n---------------------------\n 'fat' & ( 'rat' | 'cat' )\n\nSELECT 'fat & rat & ! cat'::tsquery;\n        tsquery\n------------------------\n 'fat' & 'rat' & !'cat'\n\nOptionally, lexemes in a tsquery can be labeled with one or more weight letters, which restricts them to match only tsvector lexemes with one of those weights:\nSELECT 'fat:ab & cat'::tsquery;\n    tsquery\n------------------\n 'fat':AB & 'cat'\n\nAlso, lexemes in a tsquery can be labeled with * to specify prefix matching:\nSELECT 'super:*'::tsquery;\n  tsquery\n-----------\n 'super':*\n\nThis query will match any word in a tsvector that begins with \u201csuper\u201d.\nQuoting rules for lexemes are the same as described previously for lexemes in tsvector; and, as with tsvector, any required normalization of words must be done before converting to the tsquery type. The to_tsquery function is convenient for performing such normalization:\nSELECT to_tsquery('Fat:ab & Cats');\n    to_tsquery\n------------------\n 'fat':AB & 'cat'\n\nNote that to_tsquery will process prefixes in the same way as other words, which means this comparison returns true:\nSELECT to_tsvector( 'postgraduate' ) @@ to_tsquery( 'postgres:*' );\n ?column?\n----------\n t\n\nbecause postgres gets stemmed to postgr:\nSELECT to_tsvector( 'postgraduate' ), to_tsquery( 'postgres:*' );\n  to_tsvector  | to_tsquery\n---------------+------------\n 'postgradu':1 | 'postgr':*\n\nwhich will match the stemmed form of postgraduate.\n"
    ],
    "Examples": [
        "SELECT 'fat & rat'::tsquery;",
        "SELECT 'fat & (rat | cat)'::tsquery;",
        "SELECT 'fat & rat & ! cat'::tsquery;",
        "SELECT 'fat:ab & cat'::tsquery;",
        "SELECT 'super:*'::tsquery;",
        "SELECT to_tsquery('Fat:ab & Cats');",
        "SELECT to_tsvector( 'postgraduate' ) @@ to_tsquery( 'postgres:*' );",
        "SELECT to_tsvector( 'postgraduate' ), to_tsquery( 'postgres:*' );"
    ],
    "Category": [
        "String Data Types"
    ],
    "EffectiveSQLsRefined": [],
    "EffectiveSQLsGenerated": [
        "SELECT to_tsvector('english', 'The quick brown fox jumps over the lazy dog');"
    ],
    "EffectiveSQLsGeneratedCosts": [
        {
            "Total Tokens": 1777,
            "Prompt Tokens": 1745,
            "Completion Tokens": 32,
            "Total Cost (USD)": 0.00028094999999999997
        }
    ],
    "EffectiveSQLsGeneratedErrors": [
        "None"
    ],
    "EffectiveSQLs": [
        "SELECT 'fat & rat'::tsquery;",
        "SELECT 'fat & (rat | cat)'::tsquery;",
        "SELECT 'fat & rat & ! cat'::tsquery;",
        "SELECT 'fat:ab & cat'::tsquery;",
        "SELECT 'super:*'::tsquery;",
        "SELECT to_tsquery('Fat:ab & Cats');",
        "SELECT to_tsvector( 'postgraduate' ) @@ to_tsquery( 'postgres:*' );",
        "SELECT to_tsvector( 'postgraduate' ), to_tsquery( 'postgres:*' );"
    ]
}